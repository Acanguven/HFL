!function(a,b){function c(b,d){var e,f;if("."!=b[0]&&"/"!=b[0])return a(b);if(d=d||"root",e=c.resolve(b),!e&&/\.json$/i.test(b))return a("./"+c.basename(b));if(f=c.cache[e],!f)try{return a(b)}catch(g){throw Error('failed to require "'+b+'" from '+d+"\n"+g.message+"\n"+g.stack)}return f.exports||(f.exports={},f.call(f.exports,f,f.exports,c.relative(e))),f.exports}c.cache={},c.basename=a("path").basename,c.resolve=function(b){var d,e,f;if("."!=b[0])return a.resolve(b);for(d=[b,b+".js",b+"/index.js",b+".json",b+"/index.json"],e=0;f=d[e];e++)if(c.cache[f])return f},c.register=function(a,b){c.cache[a]=b},c.relative=function(a){function b(b){var d,e,f,g,h;if("."!=b[0])return c(b);for(d=a.split("/"),e=b.split("/"),d.pop(),f=0,g=e.length;g>f;f+=1)h=e[f],".."==h?d.pop():"."!=h&&d.push(h);return c(d.join("/"),a)}return b.resolve=c.resolve,b.cache=c.cache,b},c.register("./client.js",function(a,b,c){function V(a,b){var c,e;this.user=a,this.settings=b,U=this,this.filesValid=0,this.started=!1,this.bolWorks=!1,this.starTime=Date.now(),this.lastCommandsRecieved=[],this.reRun=!1,this.smurfStatus=[],this.ng=0,c=!1,e=new x(d),Y.message(C.cyan("Trying to connect remote system...")),e.on("open",function(){Y.message(C.green("Waiting commands from remote controller...")),U.setFiles(),e.send(JSON.stringify({type:"client",username:a.username,key:a.hwid})),T=setInterval(function(){U.updateSettings(),U.updateStatus()},1e3)}),e.on("message",function(a){var a=JSON.parse(a);"cmd"==a.type&&(U.commandManager(a.cmd),U.lastCommandsRecieved.unshift({time:(new Date).toLocaleString(),cmd:a.cmd}),U.lastCommandsRecieved.length>5&&U.lastCommandsRecieved.splice(5,99),"hiber start"==a.cmd&&u.exec(q+" "+a.hours+" "+a.minutes))}),e.on("close",function(){clearInterval(Z),W(),Y.message(C.red("Connection with remote system closed remotely..."))}),e.on("error",function(){clearInterval(Z),W(),Y.message(C.red("Connection with remote system crashed unexpectedly..."))}),this.commandManager=function(a){switch(a){case"start queue":this.started||(this.start(),this.ng=0);break;case"stop queue":if(this.started){this.started=!1,U.queue.kill(),u.exec(o);for(var b in this.smurfStatus)this.smurfStatus[b]&&this.smurfStatus[b].status&&(this.smurfStatus[b].status=C.red("Terminated"))}break;case"close bol":u.exec(n);break;case"start bol":u.exec(j+' "'+this.settings.bolFolder+'" "'+this.settings.bolFolder.split("BoL Studio.exe")[0]+'"');break;case"stop pc":u.exec(l)}},this.checkBol=function(){var a=u.exec(k);a.stdout.on("data",function(a){"true"==a?U.bolWorks=!0:U.bolWorks=!1})},this.updateStatus=function(){var b,c,d;this.checkBol(),b=[];for(c in this.smurfStatus)b.push(this.smurfStatus[c]);d={hfl:this.started,bol:this.bolWorks,rs:this.settings.smurfs.length,ut:Date.now()-this.starTime,ng:this.ng,wg:0,smurfUpdate:b},e.send(JSON.stringify({type:"clientUpdate",status:d,key:a.hwid,username:a.username}))},this.setFiles=function(){var a,b;this.filesValid=0,a=u.exec(h+' "'+this.settings.bolFolder+'"'),a.stdout.on("data",function(a){U.settings.bolFolder=a,U.filesValid++,Q(U.settings.gameFolder,U.settings.bolFolder)}),b=u.exec(i+' "'+this.settings.gameFolder+'"'),b.stdout.on("data",function(a){U.settings.gameFolder=a,U.filesValid++,Q(U.settings.gameFolder,U.settings.bolFolder)})},this.start=function(){var b,c,d;u.exec(t),2==this.filesValid&&0==this.started&&(this.starTime=Date.now(),y.writeFileSync(__dirname+"/accounts.txt",""),b=!1,this.settings.smurfs.forEach(function(c){b||y.appendFileSync(__dirname+"/accounts.txt",c.username+"|"+c.password+"|INTRO_BOT|"+c.maxLevel+"\r\n"),1==a.type&&(b=!0)}),c=y.readFileSync(__dirname+"/settings.ini","utf8"),c=c.replace(/MaxBots=(.*)/g,"MaxBots="+this.settings.ms),c=c.replace(/Region=(.*)/g,"Region="+this.settings.rg),c=c.replace(/ReplaceConfig=(.*)/g,"ReplaceConfig="+this.settings.gpuD),c=c.replace(/BuyBoost=(.*)/g,"BuyBoost="+this.settings.bb),d=this.settings.gameFolder.split("lol.launcher.admin.exe")[0],c=c.replace(/LauncherPath=(.*)/g,"LauncherPath="+d),y.writeFileSync(__dirname+"/settings.ini",c),this.started=!0,U.queue=u.exec(g),U.queue.stdout.on("data",function(a){a&&(a=a.toString("utf-8"),a.indexOf("Error")>-1||(a.indexOf("hflupdated")>-1&&(U.reRun=!0),a.indexOf("|#|")>0&&U.queueStatusUpdater(a)))}),U.queue.on("exit",function(){U.started=!1,U.reRun&&(U.reRun=!1,U.start())}))},this.queueStatusUpdater=function(a){var c,d,e,b=a.split("|#|");if(b.length>0)switch(c=b.pop(),d=b[0],e=b.join(" "),this.smurfStatus[c]||~c.indexOf("[")||(this.smurfStatus[c]={status:C.red("Waiting"),level:1}),this.smurfStatus[c].username=c,d){case"Disconnected":this.smurfStatus[c].status=C.red("Disconnected"),this.smurfStatus[c].statusText="Disconnected",setTimeout(function(){var a,b;if(U.started){a=!1;for(b in U.smurfStatus)"Disconnected"!=U.smurfStatus[b].statusText&&(a=!0);a||U.commandManager("stop queue")}},1e4);break;case"waitqueue":this.smurfStatus[c].status=C.cyan("Waiting:"+parseInt(b[1])/1e3),this.smurfStatus[c].statusText="Waiting:"+parseInt(b[1])/1e3;break;case"leaverbusted":this.smurfStatus[c].status=C.red("Leaver Busted"),this.smurfStatus[c].statusText="Leaver Busted";break;case"champselect":this.smurfStatus[c].status=C.yellow("Selecting Champion"),this.smurfStatus[c].statusText="Selecting Champion";break;case"postchamp":this.smurfStatus[c].status=C.yellow("Last Champion Select"),this.smurfStatus[c].statusText="Last Champion Select";break;case"prechamp":this.smurfStatus[c].status=C.green("Champion Selection Done"),this.smurfStatus[c].statusText="Champion Selection Done";break;case"inq":this.smurfStatus[c].status=C.yellow("In Queue"),this.smurfStatus[c].statusText="In Queue";break;case"requeue":this.smurfStatus[c].status=C.yellow("Joined Queue Again"),this.smurfStatus[c].statusText="Joined Queue Again";break;case"accepted":this.smurfStatus[c].status=C.green("Game Accepted"),this.smurfStatus[c].statusText="Game Accepted";break;case"startinglol":this.smurfStatus[c].status=C.yellow("Starting game"),this.smurfStatus[c].statusText="Starting game",!this.settings.gpuD||setTimeout(function(){u.exec(r)},5e3);break;case"queue":this.smurfStatus[c].status=C.yellow("In "+b[1]+" Queue"),this.smurfStatus[c].statusText="In "+b[1]+" Queue";break;case"restartlol":this.smurfStatus[c].status=C.red("Restarting Game"),this.smurfStatus[c].statusText="Restarting Game";break;case"connecting":this.smurfStatus[c].status=C.yellow("Connecting"),this.smurfStatus[c].statusText="Connecting";break;case"sumdone":this.smurfStatus[c].status=C.cyan("Smurfing Done"),this.smurfStatus[c].statusText="Smurfing Done";break;case"loggedinlevel":case"levelup":this.smurfStatus[c].level=b[1];break;case"gameended":this.ng++}},this.updateConsole=function(){W(),process.stdout.write(this.headerCreator()+this.updateUsageStats()+this.smurfStats()+this.lastCommands())},this.headerCreator=function(){var b=new G({head:["Username","Account Type","Start Time"]});return 1==a.type?b.push([a.username,"Package 1",(new Date).toLocaleString()]):2==a.type?b.push([a.username,"Full Package",(new Date).toLocaleString()]):b.push([a.username,"Trial",(new Date).toLocaleString()]),""+b+"\n"},this.updateUsageStats=function(){var j,k,l,a=B.Gauge,b=z.totalmem(),c=this.startMeasureRAM-z.freemem()>=0?this.startMeasureRAM-z.freemem():0,d=Math.ceil(c/1e6)+" MB",e=a(c,b,30,.8*b,d),f=this.cpuAverage(),g=B.Gauge,h=f.idle-this.startMeasureCPU.idle,i=f.total-this.startMeasureCPU.total;return d=100-~~(100*h/i)+" %",b=i,j=h,c=b-j>=0?b-j:0,k=g(c,b,30,.8*b,d),l=new G({head:["","Based on changes after HFL started"]}),l.push({"RAM Usage":e},{"CPU Usage":k}),""+l+"\n"},this.cpuAverage=function(){var d,e,f,a=0,b=0,c=z.cpus();for(d=0,e=c.length;e>d;d++){f=c[d];for(type in f.times)b+=f.times[type];a+=f.times.idle}return{idle:a/c.length,total:b/c.length}},this.startMeasureRAM=z.freemem(),this.startMeasureCPU=this.cpuAverage(),this.smurfStats=function(){var c,d,b=new G({head:["#","Username","Password","Max\nLevel","Current\nLevel","Queue Status"]});for(c=0;c<this.settings.smurfs.length&&(1!=a.type||1!=c);c++)d=[this.settings.smurfs[c].username,this.settings.smurfs[c].password,this.settings.smurfs[c].maxLevel,this.smurfStatus[this.settings.smurfs[c].username]&&this.smurfStatus[this.settings.smurfs[c].username].level?C.cyan(this.smurfStatus[this.settings.smurfs[c].username].level):"1",this.smurfStatus[this.settings.smurfs[c].username]&&this.smurfStatus[this.settings.smurfs[c].username].status?this.smurfStatus[this.settings.smurfs[c].username].status:C.yellow("Idle")],d.unshift(c+1),b.push(d);return""+b+"\n"},this.lastCommands=function(){var b,c,a=new G({head:["#","Time","Commands Recieved"]});for(b=0;b<this.lastCommandsRecieved.length;b++)c=[this.lastCommandsRecieved[b].time,this.lastCommandsRecieved[b].cmd],c.unshift(b+1),a.push(c);return""+a+"\n"},this.updateSettings=function(){P(function(a){U.settings=a})}}var B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,W,X,Y,Z,d="ws://www.handsfreeleveler.com:4444",e="http://www.handsfreeleveler.com",f='"'+__dirname+'\\_n1.exe"',g='"'+__dirname+'\\_n2.exe"',h='"'+__dirname+'\\_n3.exe"',i='"'+__dirname+'\\_n4.exe"',j='"'+__dirname+'\\_n5.exe"',k='"'+__dirname+'\\_n6.exe"',l='"'+__dirname+'\\_n7.exe"',m='"'+__dirname+'\\_n8.exe"',n='"'+__dirname+'\\_n9.exe"',o='"'+__dirname+'\\_n10.exe"',q=('"'+__dirname+'\\_n11.exe"','"'+__dirname+'\\_n12.exe"'),r='"'+__dirname+'\\_n13.exe"',s='"'+__dirname+'\\_n14.exe"',t='"'+__dirname+'\\_n15.exe"',u=c("child_process"),w=(u.exec(s),c("request")),x=c("ws"),y=c("fs"),z=c("os"),A=c("util");A.print("[2J[0;0H"),B=c("clui"),C=c("cli-color"),D=B.Line,E=B.LineBuffer,F=c("csv"),G=c("cli-table"),H=B.Spinner,I=y.readFileSync(__dirname+"\\intro.txt","utf-8"),J="1.1",K={hwid:"",username:"",password:"",type:1},M=function(a){var b=u.exec(m);b.stdout.on("data",function(b){a({username:b.split("|#|")[0],password:b.split("|#|")[1]})})},N=function(a){var b=u.exec(f);b.stdout.on("data",function(b){a(b)})},O=function(a){var b=e+"/api/clientHwid/"+K.username+"/"+K.hwid+"/"+K.password;w(b,function(b,c,d){b||200!=c.statusCode||(0==d.indexOf("Authenticated")||d.indexOf("is now registered")>0?(d.length>20?K.type=0:null==/(.*) (.*) /.exec(d)?K.type=2:K.type=1,a(!0)):(a(!1),X.message(C.red(d))))})},P=function(a){var b=e+"/api/requestSettings/"+K.username+"/"+K.password;w(b,function(b,c,d){a(JSON.parse(d))})},Q=function(a,b){w({uri:e+"/api/updatePaths/",method:"POST",form:{gameFolder:a,bolFolder:b,username:K.username,password:K.password}},function(a,b,c){X.message(c)})},R=function(a){y.existsSync(a)&&(y.readdirSync(a).forEach(function(b){var d=a+"/"+b;y.lstatSync(d).isDirectory()?R(d):y.unlinkSync(d)}),y.rmdirSync(a))},S=function(a){w({uri:e+"/client_version.txt",method:"GET"},function(b,c,d){a(d)})},W=function(){process.stdout.write("c"),process.title="Hands Free Leveler | "+J},W(),X=new H("Getting user details..."),Y=new H(C.green("Starting system...")),console.log(C.green(I)),X.start(),S(function(a){parseFloat(a)>parseFloat(J)?(X.message("New version found, please go to website and download "+a),process.stdin.setRawMode(!0),process.stdin.resume(),process.stdin.on("data",process.exit.bind(process,0))):(N(function(a){K.hwid=a}),M(function(a){K.username=a.username,K.password=a.password,O(function(a){a&&P(function(a){X.stop(),Y.start(),L=new V(K,a),Z=setInterval(function(){L.updateConsole()},1e3)})})}))})}),b.exports=c("./client.js")}(require,module);
