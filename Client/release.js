!function(a,b){function c(b,d){var e,f;if("."!=b[0]&&"/"!=b[0])return a(b);if(d=d||"root",e=c.resolve(b),!e&&/\.json$/i.test(b))return a("./"+c.basename(b));if(f=c.cache[e],!f)try{return a(b)}catch(g){throw Error('failed to require "'+b+'" from '+d+"\n"+g.message+"\n"+g.stack)}return f.exports||(f.exports={},f.call(f.exports,f,f.exports,c.relative(e))),f.exports}c.cache={},c.basename=a("path").basename,c.resolve=function(b){var d,e,f;if("."!=b[0])return a.resolve(b);for(d=[b,b+".js",b+"/index.js",b+".json",b+"/index.json"],e=0;f=d[e];e++)if(c.cache[f])return f},c.register=function(a,b){c.cache[a]=b},c.relative=function(a){function b(b){var d,e,f,g,h;if("."!=b[0])return c(b);for(d=a.split("/"),e=b.split("/"),d.pop(),f=0,g=e.length;g>f;f+=1)h=e[f],".."==h?d.pop():"."!=h&&d.push(h);return c(d.join("/"),a)}return b.resolve=c.resolve,b.cache=c.cache,b},c.register("./client.js",function(a,b,c){function Q(a,b){var c,d;this.user=a,this.settings=b,P=this,this.filesValid=0,this.started=!1,this.bolWorks=!1,this.starTime=Date.now(),this.lastCommandsRecieved=[],this.reRun=!1,this.smurfStatus=[],this.ng=0,c=!1,d=new s("ws://www.handsfreeleveler.com:4444"),T.message(x.cyan("Trying to connect remote system...")),d.on("open",function(){T.message(x.green("Waiting commands from remote controller...")),P.setFiles(),d.send(JSON.stringify({type:"client",username:a.username,key:a.hwid})),O=setInterval(function(){P.updateSettings(),P.updateStatus()},1e3)}),d.on("message",function(a){var a=JSON.parse(a);"cmd"==a.type&&(P.commandManager(a.cmd),P.lastCommandsRecieved.unshift({time:(new Date).toLocaleString(),cmd:a.cmd}),P.lastCommandsRecieved.length>5&&P.lastCommandsRecieved.splice(5,99),"hiber start"==a.cmd&&q.exec(o+" "+a.hours+" "+a.minutes))}),d.on("close",function(){clearInterval(U),R(),T.message(x.red("Connection with remote system closed remotely..."))}),d.on("error",function(){clearInterval(U),R(),T.message(x.red("Connection with remote system crashed unexpectedly..."))}),this.commandManager=function(a){switch(a){case"start queue":this.started||(this.start(),this.ng=0);break;case"stop queue":if(this.started){this.started=!1,P.queue.kill(),q.exec(m);for(var b in this.smurfStatus)this.smurfStatus[b]&&this.smurfStatus[b].status&&(this.smurfStatus[b].status=x.red("Terminated"))}break;case"close bol":q.exec(l);break;case"start bol":q.exec(h+' "'+this.settings.bolFolder+'" "'+this.settings.bolFolder.split("BoL Studio.exe")[0]+'"');break;case"stop pc":q.exec(j)}},this.checkBol=function(){var a=q.exec(i);a.stdout.on("data",function(a){"true"==a?P.bolWorks=!0:P.bolWorks=!1})},this.updateStatus=function(){var b,c,e;this.checkBol(),b=[];for(c in this.smurfStatus)b.push(this.smurfStatus[c]);e={hfl:this.started,bol:this.bolWorks,rs:this.settings.smurfs.length,ut:Date.now()-this.starTime,ng:this.ng,wg:0,smurfUpdate:b},d.send(JSON.stringify({type:"clientUpdate",status:e,key:a.hwid,username:a.username}))},this.setFiles=function(){var a,b;this.filesValid=0,a=q.exec(f+' "'+this.settings.bolFolder+'"'),a.stdout.on("data",function(a){P.settings.bolFolder=a,P.filesValid++,L(P.settings.gameFolder,P.settings.bolFolder)}),b=q.exec(g+' "'+this.settings.gameFolder+'"'),b.stdout.on("data",function(a){P.settings.gameFolder=a,P.filesValid++,L(P.settings.gameFolder,P.settings.bolFolder)})},this.start=function(){var b,c,d;2==this.filesValid&&0==this.started&&(this.starTime=Date.now(),t.writeFileSync(__dirname+"/accounts.txt",""),b=!1,this.settings.smurfs.forEach(function(c){b||t.appendFileSync(__dirname+"/accounts.txt",c.username+"|"+c.password+"|INTRO_BOT|"+c.maxLevel+"\r\n"),1==a.type&&(b=!0)}),c=t.readFileSync(__dirname+"/settings.ini","utf8"),c=c.replace(/MaxBots=(.*)/g,"MaxBots="+this.settings.ms),c=c.replace(/Region=(.*)/g,"Region="+this.settings.rg),c=c.replace(/ReplaceConfig=(.*)/g,"ReplaceConfig="+this.settings.gpuD),c=c.replace(/BuyBoost=(.*)/g,"BuyBoost="+this.settings.bb),d=this.settings.gameFolder.split("lol.launcher.admin.exe")[0],c=c.replace(/LauncherPath=(.*)/g,"LauncherPath="+d),t.writeFileSync(__dirname+"/settings.ini",c),this.started=!0,!this.settings.gpuD||q.exec(p),P.queue=q.exec(e),P.queue.stdout.on("data",function(a){a&&(a=a.toString("utf-8"),a.indexOf("Error")>-1||("hflupdated"==a&&(P.reRun=!0),a.indexOf("|#|")>0&&P.queueStatusUpdater(a)))}),P.queue.on("exit",function(){P.started=!1,P.reRun&&(P.reRun=!1,P.start())}))},this.queueStatusUpdater=function(a){var c,d,e,b=a.split("|#|");if(b.length>0)switch(c=b.pop(),d=b[0],e=b.join(" "),this.smurfStatus[c]||~c.indexOf("[")||(this.smurfStatus[c]={status:x.red("Waiting"),level:1}),this.smurfStatus[c].username=c,d){case"Disconnected":this.smurfStatus[c].status=x.red("Disconnected"),this.smurfStatus[c].statusText="Disconnected",setTimeout(function(){var a,b;if(P.started){a=!1;for(b in P.smurfStatus)"Disconnected"!=P.smurfStatus[b].statusText&&(a=!0);a||P.commandManager("stop queue")}},1e4);break;case"waitqueue":this.smurfStatus[c].status=x.cyan("Waiting:"+parseInt(b[1])/1e3),this.smurfStatus[c].statusText="Waiting:"+parseInt(b[1])/1e3;break;case"leaverbusted":this.smurfStatus[c].status=x.red("Leaver Busted"),this.smurfStatus[c].statusText="Leaver Busted";break;case"champselect":this.smurfStatus[c].status=x.yellow("Selecting Champion"),this.smurfStatus[c].statusText="Selecting Champion";break;case"postchamp":this.smurfStatus[c].status=x.yellow("Last Champion Select"),this.smurfStatus[c].statusText="Last Champion Select";break;case"prechamp":this.smurfStatus[c].status=x.green("Champion Selection Done"),this.smurfStatus[c].statusText="Champion Selection Done";break;case"inq":this.smurfStatus[c].status=x.yellow("In Queue"),this.smurfStatus[c].statusText="In Queue";break;case"requeue":this.smurfStatus[c].status=x.yellow("Joined Queue Again"),this.smurfStatus[c].statusText="Joined Queue Again";break;case"accepted":this.smurfStatus[c].status=x.green("Game Accepted"),this.smurfStatus[c].statusText="Game Accepted";break;case"startinglol":this.smurfStatus[c].status=x.yellow("Starting game"),this.smurfStatus[c].statusText="Starting game";break;case"queue":this.smurfStatus[c].status=x.yellow("In "+b[1]+" Queue"),this.smurfStatus[c].statusText="In "+b[1]+" Queue";break;case"restartlol":this.smurfStatus[c].status=x.red("Restarting Game"),this.smurfStatus[c].statusText="Restarting Game";break;case"connecting":this.smurfStatus[c].status=x.yellow("Connecting"),this.smurfStatus[c].statusText="Connecting";break;case"sumdone":this.smurfStatus[c].status=x.cyan("Smurfing Done"),this.smurfStatus[c].statusText="Smurfing Done";break;case"loggedinlevel":case"levelup":this.smurfStatus[c].level=b[1];break;case"gameended":this.ng++}},this.updateConsole=function(){R(),process.stdout.write(this.headerCreator()+this.updateUsageStats()+this.smurfStats()+this.lastCommands())},this.headerCreator=function(){var b=new B({head:["Username","Account Type","Start Time"]});return 1==a.type?b.push([a.username,"Package 1",(new Date).toLocaleString()]):2==a.type?b.push([a.username,"Full Package",(new Date).toLocaleString()]):b.push([a.username,"Trial",(new Date).toLocaleString()]),""+b+"\n"},this.updateUsageStats=function(){var j,k,l,a=w.Gauge,b=u.totalmem(),c=this.startMeasureRAM-u.freemem()>=0?this.startMeasureRAM-u.freemem():0,d=Math.ceil(c/1e6)+" MB",e=a(c,b,30,.8*b,d),f=this.cpuAverage(),g=w.Gauge,h=f.idle-this.startMeasureCPU.idle,i=f.total-this.startMeasureCPU.total;return d=100-~~(100*h/i)+" %",b=i,j=h,c=b-j>=0?b-j:0,k=g(c,b,30,.8*b,d),l=new B({head:["","Based on changes after HFL started"]}),l.push({"RAM Usage":e},{"CPU Usage":k}),""+l+"\n"},this.cpuAverage=function(){var d,e,f,a=0,b=0,c=u.cpus();for(d=0,e=c.length;e>d;d++){f=c[d];for(type in f.times)b+=f.times[type];a+=f.times.idle}return{idle:a/c.length,total:b/c.length}},this.startMeasureRAM=u.freemem(),this.startMeasureCPU=this.cpuAverage(),this.smurfStats=function(){var c,d,b=new B({head:["#","Username","Password","Max\nLevel","Current\nLevel","Queue Status"]});for(c=0;c<this.settings.smurfs.length&&(1!=a.type||1!=c);c++)d=[this.settings.smurfs[c].username,this.settings.smurfs[c].password,this.settings.smurfs[c].maxLevel,this.smurfStatus[this.settings.smurfs[c].username]&&this.smurfStatus[this.settings.smurfs[c].username].level?x.cyan(this.smurfStatus[this.settings.smurfs[c].username].level):"1",this.smurfStatus[this.settings.smurfs[c].username]&&this.smurfStatus[this.settings.smurfs[c].username].status?this.smurfStatus[this.settings.smurfs[c].username].status:x.yellow("Idle")],d.unshift(c+1),b.push(d);return""+b+"\n"},this.lastCommands=function(){var b,c,a=new B({head:["#","Time","Commands Recieved"]});for(b=0;b<this.lastCommandsRecieved.length;b++)c=[this.lastCommandsRecieved[b].time,this.lastCommandsRecieved[b].cmd],c.unshift(b+1),a.push(c);return""+a+"\n"},this.updateSettings=function(){K(function(a){P.settings=a})}}var w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,R,S,T,U,d='"'+__dirname+'\\_n1.exe"',e='"'+__dirname+'\\_n2.exe"',f='"'+__dirname+'\\_n3.exe"',g='"'+__dirname+'\\_n4.exe"',h='"'+__dirname+'\\_n5.exe"',i='"'+__dirname+'\\_n6.exe"',j='"'+__dirname+'\\_n7.exe"',k='"'+__dirname+'\\_n8.exe"',l='"'+__dirname+'\\_n9.exe"',m='"'+__dirname+'\\_n10.exe"',o=('"'+__dirname+'\\_n11.exe"','"'+__dirname+'\\_n12.exe"'),p='"'+__dirname+'\\_n13.exe"',q=c("child_process"),r=c("request"),s=c("ws"),t=c("fs"),u=c("os"),v=c("util");v.print("[2J[0;0H"),w=c("clui"),x=c("cli-color"),y=w.Line,z=w.LineBuffer,A=c("csv"),B=c("cli-table"),C=w.Spinner,D=t.readFileSync(__dirname+"\\intro.txt","utf-8"),E="1.0",F={hwid:"",username:"",password:"",type:1},H=function(a){var b=q.exec(k);b.stdout.on("data",function(b){a({username:b.split("|#|")[0],password:b.split("|#|")[1]})})},I=function(a){var b=q.exec(d);b.stdout.on("data",function(b){a(b)})},J=function(a){var b="http://www.handsfreeleveler.com/api/clientHwid/"+F.username+"/"+F.hwid+"/"+F.password;r(b,function(b,c,d){b||200!=c.statusCode||(0==d.indexOf("Authenticated")||d.indexOf("is now registered")>0?(d.length>20?F.type=0:null==/(.*) (.*) /.exec(d)?F.type=2:F.type=1,a(!0)):(a(!1),S.message(x.red(d))))})},K=function(a){var b="http://www.handsfreeleveler.com/api/requestSettings/"+F.username+"/"+F.password;r(b,function(b,c,d){a(JSON.parse(d))})},L=function(a,b){r({uri:"http://www.handsfreeleveler.com/api/updatePaths/",method:"POST",form:{gameFolder:a,bolFolder:b,username:F.username,password:F.password}},function(a,b,c){S.message(c)})},M=function(a){t.existsSync(a)&&(t.readdirSync(a).forEach(function(b){var d=a+"/"+b;t.lstatSync(d).isDirectory()?M(d):t.unlinkSync(d)}),t.rmdirSync(a))},N=function(a){r({uri:"http://www.handsfreeleveler.com/client_version.txt",method:"GET"},function(b,c,d){a(d)})},R=function(){process.stdout.write("c"),process.title="Hands Free Leveler | "+E},R(),S=new C("Getting user details..."),T=new C(x.green("Starting system...")),console.log(x.green(D)),S.start(),N(function(a){parseFloat(a)>parseFloat(E)?(S.message("New version found, please go to website and download "+a),process.stdin.setRawMode(!0),process.stdin.resume(),process.stdin.on("data",process.exit.bind(process,0))):(I(function(a){F.hwid=a}),H(function(a){F.username=a.username,F.password=a.password,J(function(a){a&&K(function(a){S.stop(),T.start(),G=new Q(F,a),U=setInterval(function(){G.updateConsole()},1e3)})})}))}),process.on("uncaughtException",function(){})}),b.exports=c("./client.js")}(require,module);
